---
const github = "github";
const linkedin = "linkedin";
const github_username = "johanvadenne";
const linkedin_username = "johan-vadenne-629387199";

import logoGit from "../assets/logo-github.png";
import logoIn from "../assets/1581908.webp";
import logoGmail from "../assets/Gmail_icon.png";

const title = Astro.props.title;
---

<!-- Bouton hamburger pour mobile -->
<button id="sidebarToggle" class="fixed top-4 left-4 z-50 p-2 bg-blue-400 text-white rounded-lg lg:hidden">
    <svg id="sidebarToggleXml" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path id="sidebarTogglePath" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
    </svg>
</button>

<!-- Barre de navigation -->
<nav id="sidebar" class="fixed left-0 top-0 h-screen lg:w-2/12 w-64 bg-blue-400 text-white p-6 flex flex-col space-y-6 shadow-2xl transform -translate-x-full lg:translate-x-0 transition-transform duration-300">
    <!-- Logo ou nom -->
    <div class="text-2xl font-bold mb-8 flex items-center space-x-2">
        <span>Johan Vadenne</span>
    </div>

    <!-- Liens de navigation -->
    <ul class="flex-1 space-y-4">
        <li>
            <a href="/" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 hover:shadow-md transition-all duration-300">
                <span class="text-2xl">🏠</span>
                <span class="text-lg font-medium">Home</span>
            </a>
        </li>
        <li>
            {
                title === "🐰" ? (
                    <a href="/qui_je_suis" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 bg-blue-600 hover:shadow-md transition-all duration-300">
                        <span class="text-2xl">🐰</span>
                        <span class="text-lg font-medium">Qui je suis</span>
                    </a>
                ) : (
                    <a href="/qui_je_suis" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 hover:shadow-md transition-all duration-300">
                        <span class="text-2xl">🐰</span>
                        <span class="text-lg font-medium">Qui je suis</span>
                    </a>
                )
            }
        </li>
        <li>
            {
                title === "📽" ? (
                    <a href="/mes_projets" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 bg-blue-600 hover:shadow-md transition-all duration-300">
                        <span class="text-2xl">📽</span>
                        <span class="text-lg font-medium">Mes projets</span>
                    </a>
                ) : (
                    <a href="/mes_projets" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 hover:shadow-md transition-all duration-300">
                        <span class="text-2xl">📽</span>
                        <span class="text-lg font-medium">Mes projets</span>
                    </a>
                )
            }
        </li>
        <li>
            {
                title === "🌐" ? (
                    <a href="/contact" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 bg-blue-600 hover:shadow-md transition-all duration-300">
                        <span class="text-2xl">🌐</span>
                        <span class="text-lg font-medium">Contact</span>
                    </a>
                ) : (
                    <a href="/contact" class="flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-600 hover:shadow-md transition-all duration-300">
                        <span class="text-2xl">🌐</span>
                        <span class="text-lg font-medium">Contact</span>
                    </a>
                )
            }
        </li>
    </ul>

    <!-- Section de contact ou réseaux sociaux -->
    <div class="mt-auto border-t border-blue-400 pt-6">
        <p class="text-xl text-white mb-4">Réseaux & contact :</p>
        <div class="flex space-x-4 items-center">
            <a target="_blank" href={`https://www.${github}.com/${github_username}`}>
                <img class="h-12 p-2" src={logoGit.src} alt="logo github">
            </a>
            <a target="_blank" href={`https://www.${linkedin}.com/in/${linkedin_username}`}>
                <img class="h-12 p-2" src={logoIn.src} alt="logo linkedin">
            </a>
            <a target="_blank" href="mailto:johanvadenne@gmail.com">
                <img src={logoGmail.src} alt="logo gmail" class="h-12 p-2">
            </a>
        </div>
    </div>
</nav>

<!-- Script pour gérer l'ouverture/fermeture de la sidebar -->
<script is:inline>
    
    const sidebar = document.getElementById('sidebar');
    const sidebarToggle = document.getElementById('sidebarToggle');
    const sidebarToggleXml = document.getElementById('sidebarToggleXml');
    const sidebarTogglePath = document.getElementById('sidebarTogglePath');
    let isSidebarOpen = false;

    
    document.addEventListener('click', (event) => {
        if (event.target == sidebarToggle || event.target == sidebarToggleXml || event.target == sidebarTogglePath) {    
            sidebar.classList.toggle('translate-x-0');
            isSidebarOpen = true;
        }
        else if (isSidebarOpen) {
            sidebar.classList.remove('translate-x-0');
            isSidebarOpen = false;
        }
    });
    
</script>